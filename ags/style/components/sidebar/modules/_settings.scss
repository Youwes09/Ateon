@use "../../../layouts" as *;
@use "../../../abstracts" as *;
@use "sass:color";

.stacked-settings-widget {
  @include widget-container;

  .settings-header {
    margin: 0 $spacing-sm;

    image {
      color: $fg;
      margin-right: $spacing-sm;
    }

    .settings-title {
      margin-top: $spacing-md;
      font-size: $font;
      font-weight: 700;
      color: $fg;
    }
  }

  separator {
    background-color: color.adjust($fg, $alpha: -0.8);
    margin: $spacing-sm 0;
    min-height: 1px;
  }

  .settings-nav {
    margin: $spacing-sm 0;

    .nav-button {
      border-radius: $round2;
      padding: $spacing-sm;
      margin: 0 $spacing-xs;

      .nav-icon {
        @include material-icon;
      }

      .nav-label {
        font-size: calc(#{$font} * 0.9);
        font-weight: 500;
      }
    }
    .button-disabled {
      background-color: transparent;
      &:hover {
        background-color: $buttonDisabledHover;
      }
    }
  }

  .settings-stack {
    margin-top: $spacing-sm;

    .subsection-title {
      font-size: $font;
      font-weight: 600;
      color: $fg;
      margin: $spacing-sm 0 $spacing-xs 0;
    }
  }

  .settings-scroll {
    scrollbar {
      background: color.adjust($barBg, $lightness: if($darkmode, -2%, 2%));
      border-radius: calc(#{$round} * 1);

      &.vertical {
        margin-left: 4px;
      }

      trough {
        background: color.adjust($fg, $alpha: -0.9);
        border-radius: calc(#{$round} * 1);
        min-width: 8px;
      }

      slider {
        background: color.adjust($fg, $alpha: -0.6);
        border-radius: calc(#{$round} * 1);
        min-width: 8px;
        transition: all 100ms ease;

        @if not $darkmode {
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
        }

        &:hover {
          background: color.adjust($primary, $alpha: -0.3);

          @if not $darkmode {
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
          }
        }

        &:active {
          background: $primary;
        }
      }
    }
  }

  // Option components styling
  .option-row {
    background: color.adjust($barBg, $lightness: if($darkmode, 2%, -2%));
    border: 1px solid color.adjust($fg, $alpha: -0.9);
    border-radius: calc(#{$round} * 2);
    padding: $spacing-sm $spacing-md;
    margin: $spacing-xs 0;

    @if not $darkmode {
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    .option-label {
      font-size: $font;
      color: $fg;
      margin-right: $spacing-sm;
    }

    .option-switch {
      border-radius: 5rem;
      padding: 0.1rem;
      background-color: color.adjust($fg, $alpha: -0.9);

      @if not $darkmode {
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.08);
      }

      slider {
        border-radius: 1.5rem;
        transition: all 200ms ease;
        margin: 0.2rem;

        @if $darkmode {
          background-color: color.adjust($fg, $alpha: -0.7);
        } @else {
          background-color: $buttonDisabled;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
        }
      }

      &:checked {
        background-color: $buttonEnabled;

        slider {
          background-color: color.adjust($primary, $alpha: -0.3);
        }
      }
    }

    .option-dropdown {
      min-width: 140px;

      button {
        @include button-active;
        border-radius: calc(#{$round} * 1.5);
        padding: $spacing-xs $spacing-sm;
        border-color: color.adjust($fg, $alpha: -0.9);
        &:hover {
          border-color: color.adjust($fg, $alpha: -0.7);
        }
      }
    }
  }

  separator {
    background-color: color.adjust($fg, $alpha: -0.85);
    margin: $spacing-md 0;
    min-height: 1px;
  }
}